@use 'sass:math';

@function difference($a, $b) {
  @return calc(abs($a - $b) / (($a + $b) / 2));
}

$card-height: 308px;
$card-width: 200px;

$card-hover-height: $card-height - 2px;
$card-hover-width: $card-width - 2px;

$content-hover-height-scale: calc(
  1 + difference($card-hover-height, $card-height)
);
$content-hover-width-scale: calc(
  1 + difference($card-hover-width, $card-width)
);

$card-hover-height-scale: calc(
  1 - difference($card-height, $card-hover-height)
);
$card-hover-width-scale: calc(1 - difference($card-width, $card-hover-width));

.root {
  box-sizing: border-box;
  position: relative;
  height: $card-height;
  width: $card-width;
  cursor: pointer;

  &:hover .border {
    opacity: 1;

    box-shadow: 0px 0px 50px rgba(61, 11, 111, 0.5),
      0px 0px 27.648px rgba(61, 11, 111, 0.4),
      0px 0px 16.128px rgba(61, 11, 111, 0.5),
      0px 0px 8.064px rgba(61, 11, 111, 0.5), 0px 0px 2.304px #3d0b6f,
      0px 0px 1.152px #3d0b6f;
  }
}

.border {
  position: absolute;
  background: var(--color-stroke-01);
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  border-radius: 8px;
  z-index: -1;
  opacity: 0;
  transition: opacity 0.5s ease-in-out, box-shadow 0.2s ease-in-out;
}

.card {
  box-sizing: border-box;

  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  position: absolute;

  border-radius: var(--space-xs); // todo fix vars
  border: 1px solid var(--color-neutral-600);
  background: var(--color-neutral-700);
  transform-origin: center;
  transition: transform 0.2s ease-in-out, border 0.2s ease-in-out;

  .content {
    box-sizing: border-box;

    padding: 16px;
    transform-origin: center;
    transition: transform 0.2s ease-in-out;
    display: flex;
    flex-direction: column;
    gap: 12px;

    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;

    h6 {
      width: 166px;
      color: var(--color-neutral-50);
    }
  }

  &:hover {
    transform: scale($card-hover-width-scale, $card-hover-height-scale);
    border: 1px solid var(--color-neutral-700);
  }

  &:hover .content {
    transform: scale($content-hover-width-scale, $content-hover-height-scale);
  }
}

.title {
  text-overflow: ellipsis;
  overflow: hidden;
}
